{"version":3,"file":"static/js/471.4cf9707a.chunk.js","mappings":"oPAEMA,EAAU,mCAKhBC,IAAAA,SAAAA,QANgB,+BAQT,IAAMC,EAAsB,WACjC,OAAOD,IAAAA,IAAA,sBAAiC,CACtCE,OAAQ,CACNC,QAASJ,EACTK,SAAU,KACVC,KATc,KAWfC,MAAK,SAACC,GAAD,OAAYA,EAASC,KAAKC,OAA1B,GAET,EAGYC,EAAe,mCAAG,oGAENV,IAAAA,IAAA,iBAA4B,CACjDE,OAAQ,CACNC,QAASJ,EACTK,SAAU,KACVO,MAvBc,GAwBdN,KAvBc,KAgBW,cAEvBE,EAFuB,yBAUtBA,EAASC,KAAKC,SAVQ,2CAAH,oD,6GCjBfG,EAAY,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,MAAOC,EAAuB,EAAvBA,SAAUC,EAAa,EAAbA,OAC3C,OACE,kBAAMC,SAAUD,EAAQE,UAAU,aAAlC,WACA,oBAAQC,KAAK,SAASD,UAAU,oBAAhC,WACA,SAAC,MAAD,KACE,iBAAMA,UAAU,0BAAhB,wBAGF,kBACEA,UAAU,mBACVC,KAAK,OACLC,KAAK,YACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZT,MAAOA,EACPC,SAAUA,MAKf,E,wCC4CD,EA7De,WACb,IAAMS,GAAWC,EAAAA,EAAAA,MAEjB,GAA6BC,EAAAA,EAAAA,UAAS,IAAtC,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAwBF,EAAAA,EAAAA,UAAS,GAAjC,eAAOpB,EAAP,KAAauB,EAAb,KACA,GAA4BH,EAAAA,EAAAA,UAAS,IAArC,eAAOI,EAAP,KAAeC,EAAf,KACA,GAA0BL,EAAAA,EAAAA,UAAS,GAAnC,eAAOM,EAAP,KAAcC,EAAd,KAiCA,OAdAC,EAAAA,EAAAA,YAAU,WACJP,EAAUQ,SACdxB,EAAAA,EAAAA,IAAgBgB,EAAWrB,EAAM0B,GAAOzB,KAAKwB,EAG9C,GAAE,CAACzB,EAAMqB,KAIVO,EAAAA,EAAAA,YAAU,WACRH,EAAU,IACVE,EAAS,EACV,GAAE,CAACN,KAGF,6BACE,SAACd,EAAD,CACEC,MAAOa,EACPZ,SAnCmB,SAAAqB,GACvBR,EAAQQ,EAAMC,OAAOvB,MAAMwB,cAC5B,EAkCKtB,OAhCe,SAAAoB,GAKnB,GAJAA,EAAMG,iBAImB,KAArBZ,EAAUQ,OACZ,OAAOK,EAAAA,GAAAA,MAAY,mKAErBX,EAAQ,GACRD,EAAQD,GACRC,EAAQ,GACT,IAuBIE,EAAOW,OAAS,IACf,wBACGX,EAAOY,KAAI,SAAAC,GAAK,OACf,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKD,EAAME,IAAMC,MAAO,CAAEC,KAAMvB,GAAxC,SACGmB,EAAMK,SAFFL,EAAME,GADA,QAW1B,C","sources":["fakeApi.jsx","components/SearchBox.jsx","pages/Movies.jsx"],"sourcesContent":["import axios from \"axios\";\nconst API_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = 'a620a6416fb18e40f7d335c64c3f9e0e';\n\nconst searchQuery = '';\nconst currentPage = 1;\n\naxios.defaults.baseURL = API_URL;\n\nexport const fetchTrendDayMovies = () => {\n  return axios.get(`/trending/movie/day`, {\n    params: {\n      api_key: API_KEY,\n      language: \"en\",\n      page: currentPage,\n    },\n  }).then((response)=>response.data.results)\n \n}\n\n\nexport const fetchMovieQuery = async () => {\n  \n  const response = await axios.get(`/search/movie/`, {\n    params: {\n      api_key: API_KEY,\n      language: \"en\",\n      query: searchQuery,\n      page: currentPage,\n    },\n  })\n  return response.data.results\n\n}\n\n\nexport const fetchMovieByID = (id) => {\n  return axios.get(`/movie/${id}`, {\n    params: {\n      api_key: API_KEY,\n      language: \"en\",\n    },\n  }).then((response)=>response.data.results)\n}\n\nexport const fetchMovieByCredit = (id) => {\n  return axios.get(`/movie/${id}/credit`, {\n    params: {\n      api_key: API_KEY,\n      language: \"en\",\n    },\n  }).then((response)=>response.data.results)\n}\n\nexport const fetchMovieByReviews = (id) => {\n  return axios.get(`/movie/${id}/reviews`, {\n    params: {\n      api_key: API_KEY,\n      language: \"en\",\n    },\n  }).then((response)=>response.data.results)\n}\n\n\n// export const getTrendDayMovies = () => {\n//   return Promise.resolve(fetchTrendDayMovies());\n// };\n\n// export const getMovieQuery = () => {\n//   return Promise.resolve(fetchMovieQuery());\n// };\n\n\n// export const gethMovieByID = id => {\n//   return Promise.resolve(fetchMovieByID.find(movie => movie.id === id));\n// };\n\n// export const gethMovieByCredit = () => {\n//   return Promise.resolve(fetchMovieByCredit());\n// };\n\n\n// export const getMovieByReviews = () => {\n//   return Promise.resolve(fetchMovieByReviews());\n// };\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// function handlerGenres ({results, ...other}, genres) {\n//   for (const object of results) {\n//     object.genre_str = object.genre_ids.map(elem => genres.find(genre =>  genre.id === elem).name);\n//   }\n//   return ({...other, results})\n// }\n\n// class MoviesApi {\n\n//   static genres = null;\n//   static async fetchGendresMovie() {\n//       const response = await axios.get(\"/genre/movie/list\", {\n//         params: {\n//           api_key: API_KEY,\n//         },\n//       });\n//       this.genres = response.data.genres;\n//     }\n\n\n//   #searchQuery;\n//   #currentPage;\n\n//   constructor () {\n//       this.#searchQuery = null;\n//       this.#currentPage = 1;\n\n//       this.constructor.fetchGendresMovie();\n//   }\n\n\n//   async fetchTrendDayMovies() {\n//     const response = await axios.get(`/trending/movie/day`, {\n//       params: {\n//         api_key: API_KEY,\n//         language: \"en\",\n//         page: this.#currentPage,\n//       },\n//     });\n//     return handlerGenres(response.data, MoviesApi.genres);\n//   }\n\n//   async fetchMovieByID(id) {\n//     const response = await axios.get(`/movie/${id}`, {\n//       params: {\n//         api_key: API_KEY,\n//         language: \"en\",\n//       },\n//     });\n//     return response.data;\n//   }\n\n//   async fetchMovieQuery () {\n//     const response = await axios.get(`/search/movie/`, {\n//       params: {\n//         api_key: API_KEY,\n//         language: \"en\",\n//         query: this.#searchQuery,\n//         page: this.#currentPage,\n//       },\n//     });\n//     return handlerGenres(response.data, MoviesApi.genres);\n//   }\n\n// async fetchMovieByCredit(id) {\n//   const response = await axios.get(`/movie/${id}/credit`, {\n//     params: {\n//       api_key: API_KEY,\n//       language: \"en\",\n//     },\n//   });\n//   return response.data;\n// }\n\n// async fetchMovieByReviews(id) {\n//   const response = await axios.get(`/movie/${id}/reviews`, {\n//     params: {\n//       api_key: API_KEY,\n//       language: \"en\",\n//     },\n//   });\n//   return response.data;\n// }\n\n//   get query() {\n//     return this.#searchQuery\n//   }\n\n//   set query(newSearhQuery) {\n//     this.#searchQuery = newSearhQuery;\n//     this.#currentPage = 1;\n//   }\n\n//   nextPage() {\n//     this.#currentPage += 1;\n//   }\n\n//   previousPage() {\n//     if (!(this.#currentPage - 1)){\n//       return\n//     }\n    \n//     this.#currentPage -= 1;\n//   }\n\n//   get currentpage() {\n//     return this.#currentPage\n//   }\n\n//   set currentpage(newPage) {\n//     this.#currentPage = newPage;\n//   }\n\n//   get genres() {\n//     return MoviesApi.genres;\n//   }\n\n//   set genres (genre) {\n//       return\n//   }\n\n  \n// }\n\n// export default MoviesApi;\n\n\n// ====================================================\n\n\n// import axios from \"axios\";\n// const API_URL = 'https://api.themoviedb.org/3';\n// const API_KEY = 'a620a6416fb18e40f7d335c64c3f9e0e';\n\n// const searchQuery = null;\n// const currentPage = 1;\n\n// axios.defaults.baseURL = API_URL;\n\n\n// // function handlerGenres ({results, ...other}, genres) {\n// //   for (const object of results) {\n// //     object.genre_str = object.genre_ids.map(elem => genres.find(genre =>  genre.id === elem).name);\n// //   }\n// //   return ({...other, results})\n// // }\n\n// function  fetchTrendDayMovies() {\n//   const response = axios.get(`/trending/movie/day`, {\n//     params: {\n//       api_key: API_KEY,\n//       language: \"en\",\n//       page: currentPage,\n//     },\n//   });\n//   return response.data;\n// }\n\n// function fetchMovieQuery () {\n//   const response =  axios.get(`/search/movie/`, {\n//     params: {\n//       api_key: API_KEY,\n//       language: \"en\",\n//       query: searchQuery,\n//       page: currentPage,\n//     },\n//   });\n//   return response.data;\n// }\n\n\n// function fetchMovieByID(id) {\n//   const response =  axios.get(`/movie/${id}`, {\n//     params: {\n//       api_key: API_KEY,\n//       language: \"en\",\n//     },\n//   });\n//   return response.data;\n// }\n\n// function fetchMovieByCredit(id) {\n//   const response = axios.get(`/movie/${id}/credit`, {\n//     params: {\n//       api_key: API_KEY,\n//       language: \"en\",\n//     },\n//   });\n//   return response.data;\n// }\n\n// function fetchMovieByReviews(id) {\n//   const response = axios.get(`/movie/${id}/reviews`, {\n//     params: {\n//       api_key: API_KEY,\n//       language: \"en\",\n//     },\n//   });\n//   return response.data;\n// }\n\n\n// export const getTrendDayMovies = () => {\n//   return Promise.resolve(fetchTrendDayMovies());\n// };\n\n// export const getMovieQuery = () => {\n//   return Promise.resolve(fetchMovieQuery());\n// };\n\n\n// export const gethMovieByID = id => {\n//   return Promise.resolve(fetchMovieByID.find(movie => movie.id === id));\n// };\n\n// export const gethMovieByCredit = () => {\n//   return Promise.resolve(fetchMovieByCredit());\n// };\n\n\n// export const getMovieByReviews = () => {\n//   return Promise.resolve(fetchMovieByReviews());\n// };\n\n\n\n\n\n// =====================================================\n\n// const db = {\n//     invoices: [\n//       {\n//         id: '172987',\n//         recipient: 'Jacob Mercer',\n//         account: 20138714,\n//         total: 8000,\n//         date: {\n//           created: '2011-10-05T14:48:00.000Z',\n//           due: '2011-10-12T00:00:00.000Z',\n//         },\n//       },\n//       {\n//         id: '173851',\n//         recipient: 'Adrian Cross',\n//         account: 30986127,\n//         total: 11000,\n//         date: {\n//           created: '2017-07-01T12:18:00.000Z',\n//           due: '2017-08-14T00:00:00.000Z',\n//         },\n//       },\n//       {\n//         id: '186541',\n//         recipient: 'Solomon Fokes',\n//         account: 78615230,\n//         total: 82000,\n//         date: {\n//           created: '2019-03-17T10:12:00.000Z',\n//           due: '2019-04-02T00:00:00.000Z',\n//         },\n//       },\n//       {\n//         id: '185744',\n//         recipient: 'Artemis Tau',\n//         account: 82719051,\n//         total: 17000,\n//         date: {\n//           created: '2022-09-28T10:57:00.000Z',\n//           due: '2022-11-02T00:00:00.000Z',\n//         },\n//       },\n//     ],\n\n//     customers: [\n//       { id: 1, name: 'Mischa Hopkins' },\n//       { id: 2, name: 'Anis Cresswell' },\n//       { id: 3, name: 'Milla Wagner' },\n//       { id: 4, name: 'Faizan Gillespie' },\n//       { id: 5, name: 'Roy Mays' },\n//       { id: 6, name: 'Leanne Knott' },\n//       { id: 7, name: 'Debbie Fitzgerald' },\n//       { id: 8, name: 'Phebe Reyes' },\n//       { id: 9, name: 'Lola-Mae Kouma' },\n//       { id: 10, name: 'Krish Marsh' },\n//       { id: 11, name: 'Sienna Rodgers' },\n//       { id: 12, name: 'Harper-Rose Schroeder' },\n//       { id: 13, name: 'Pippa Gill' },\n//       { id: 14, name: 'Effie Shaffer' },\n//       { id: 15, name: 'Eshal Nixon' },\n//       { id: 16, name: 'Phyllis Dunlop' },\n//       { id: 17, name: 'Efe Valenzuela' },\n//       { id: 18, name: 'Roman Mcleod' },\n//       { id: 19, name: 'Mikayla Ibarra' },\n//       { id: 20, name: 'Fatma Yu' },\n//     ],\n//   };\n  \n//   export const getInvoices = () => {\n//     return Promise.resolve(db.invoices);\n//   };\n  \n//   export const getInvoiceById = invoiceId => {\n//     return Promise.resolve(db.invoices.find(invoice => invoice.id === invoiceId));\n//   };\n\n\n//   export const getCustomers = () => {\n//     return Promise.resolve(db.customers);\n//   };\n  \n//   export const getCustomerById = id => {\n//     return Promise.resolve(db.customers.find(customer => customer.id === id));\n//   };\n\n  ","import { ImSearch } from 'react-icons/im';\nimport 'components/Styles/styles.css';\n\n\nexport const SearchBox = ({ value, onChange, onForm }) => {\n  return (\n    <form onSubmit={onForm} className=\"SearchForm\">\n    <button type=\"submit\" className=\"SearchForm-button\">\n    <ImSearch />\n      <span className=\"SearchForm-button-label\">Search</span>\n    </button>\n\n    <input\n      className=\"SearchForm-input\"\n      type=\"text\"\n      name=\"movieName\"\n      autoComplete=\"off\"\n      autoFocus\n      placeholder=\"Search movies\"\n      value={value}\n      onChange={onChange}\n    />\n  </form>\n\n  );\n};\n\n\n\n\n\n","import { toast } from 'react-toastify';\n\nimport { SearchBox } from 'components/SearchBox';\nimport { fetchMovieQuery } from 'fakeApi';\nimport { useEffect, useState } from 'react';\n// import { useSearchParams } from 'react-router-dom';\nimport { Link, useLocation } from 'react-router-dom';\n\nconst Movies = () => {\n  const location = useLocation();\n\n  const [movieName, setName] = useState('');\n  const [page, setPage] = useState(1);\n  const [movies, setMovies] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  const handleNameChange = event => {\n    setName(event.target.value.toLowerCase());\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n\n\n\n    if (movieName.trim() === '') {\n      return toast.error('Введите название изображения!');\n    }\n    setPage(1);\n    setName(movieName);\n    setName('');\n  };\n\n  useEffect(() => {\n    if (movieName.trim()) {\n    fetchMovieQuery(movieName, page, total).then(setMovies);\n    }\n    //eslint-disable-next-line\n  }, [page, movieName]);\n\n  // Как работает useEffect: Если hitName изменятся, запустятся все фунции вложенные в useEffect\n\n  useEffect(() => {\n    setMovies([]);\n    setTotal(0);\n  }, [movieName]);\n\n  return (\n    <main>\n      <SearchBox\n        value={movieName}\n        onChange={handleNameChange}\n        onForm={handleSubmit}\n      />\n      {movies.length > 0 && (\n        <ul>\n          {movies.map(movie => (\n            <li key={movie.id}>\n              <Link to={`${movie.id}`} state={{ from: location }}>\n                {movie.title}\n              </Link>\n            </li>\n          ))}\n        </ul>\n      )}\n    </main>\n  );\n};\n\nexport default Movies;\n\n// const Movies = () => {\n\n//   const location = useLocation();\n//   const [movies, setCustomers] = useState([]);\n//   const [searchParams, setSearchParams] = useSearchParams();\n//   const filterParam = searchParams.get('filter') ?? '';\n\n//   useEffect(() => {\n//     fetchMovieQuery().then(setCustomers);\n//   }, []);\n\n//   const changeFilter = value => {\n//     setSearchParams(value !== '' ? { filter: value } : {});\n//   };\n\n//   const visiblemovies = useMemo(() => {\n//     return movies.filter(movie =>\n//       movie.title.toLowerCase().includes(filterParam.toLowerCase())\n//     );\n//   }, [movies, filterParam]);\n\n//   return (\n//     <main>\n//       <SearchBox value={filterParam} onChange={changeFilter} />\n//       {movies.length > 0 && (\n//         <ul>\n//           {visiblemovies.map(movie => (\n//             <li key={movie.id}>\n//                 <Link to={`${movie.id}`} state={{ from: location}} >{.name}</Link></li>\n//           ))}\n//         </ul>\n//       )}\n//     </main>\n//   );\n// };\n\n// export default Movies;\n"],"names":["API_KEY","axios","fetchTrendDayMovies","params","api_key","language","page","then","response","data","results","fetchMovieQuery","query","SearchBox","value","onChange","onForm","onSubmit","className","type","name","autoComplete","autoFocus","placeholder","location","useLocation","useState","movieName","setName","setPage","movies","setMovies","total","setTotal","useEffect","trim","event","target","toLowerCase","preventDefault","toast","length","map","movie","to","id","state","from","title"],"sourceRoot":""}