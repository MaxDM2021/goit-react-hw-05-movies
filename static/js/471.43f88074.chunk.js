"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[471],{7471:function(e,t,n){n.r(t),n.d(t,{default:function(){return v}});var r=n(5861),a=n(885),u=n(7757),o=n.n(u),s=n(8174),c=n(828),i=n(184),l=function(e){var t=e.value,n=e.onSubmit,r=e.onChange;return(0,i.jsxs)("form",{id:"search-form",onSubmit:function(e){e.preventDefault(),n(e.target.elements.movieName.value),e.target.reset()},className:"SearchForm",children:[(0,i.jsxs)("button",{type:"submit",className:"SearchForm-button",children:[(0,i.jsx)(c.Yfv,{}),(0,i.jsx)("span",{className:"SearchForm-button-label",children:"Search"})]}),(0,i.jsx)("input",{className:"SearchForm-input",type:"text",name:"movieName",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",onChange:function(e){return r(e.target.value.toLowerCase())},value:t})]})},m=n(8334),f=n(2791),h=n(6731),p=n(7689),v=function(){var e,t=(0,p.TH)(),n=(0,f.useState)(""),u=(0,a.Z)(n,2),c=u[0],v=u[1],d=(0,f.useState)([]),x=(0,a.Z)(d,2),j=x[0],b=x[1],S=(0,h.lr)(),w=(0,a.Z)(S,2),k=w[0],g=w[1],C=null!==(e=k.get("name"))&&void 0!==e?e:"",N=window.location.search.split("=")[1];(0,f.useEffect)((function(){(c||N)&&F(c||N)}),[c]);var F=function(){var e=(0,r.Z)(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Vu)(t);case 2:n=e.sent,b(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,f.useEffect)((function(){(0,r.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=5;break}return e.next=3,(0,m.Vu)(c);case 3:t=e.sent,b(t);case 5:case"end":return e.stop()}}),e)})))()}),[c]);return(0,i.jsxs)("main",{children:[(0,i.jsx)(l,{onSubmit:function(e){if(""===e.trim())return s.Am.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f!");v(e)},onChange:function(e){g(""!==e?{name:e}:{})},value:C}),j.length>0&&(0,i.jsx)("ul",{children:j.map((function(e){return(0,i.jsx)("li",{movie:e,children:(0,i.jsx)(h.rU,{to:"/movies/".concat(e.id),state:{from:t},children:e.title})},e.id)}))}),(0,i.jsx)(f.Suspense,{fallback:null,children:(0,i.jsx)(p.j3,{})})]})}}}]);
//# sourceMappingURL=471.43f88074.chunk.js.map