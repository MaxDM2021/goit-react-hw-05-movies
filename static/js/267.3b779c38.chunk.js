"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[267],{8334:function(e,t,n){var r=n(5861),a=n(5671),u=n(3144),i=n(6274),s=n(9359),c=n(1413),o=n(7762),f=n(4925),p=n(7757),v=n.n(p),h=n(4569),l=n.n(h),d=["results"],g="a620a6416fb18e40f7d335c64c3f9e0e";function y(e,t){var n,r=e.results,a=(0,f.Z)(e,d),u=(0,o.Z)(r);try{for(u.s();!(n=u.n()).done;){var i=n.value;i.genre_str=i.genre_ids.map((function(e){return t.find((function(t){return t.id===e})).name}))}}catch(s){u.e(s)}finally{u.f()}return(0,c.Z)((0,c.Z)({},a),{},{results:r})}l().defaults.baseURL="https://api.themoviedb.org/3";var m=(0,s.Z)("searchQuery"),Z=(0,s.Z)("currentPage"),k=function(){function e(){(0,a.Z)(this,e),Object.defineProperty(this,m,{writable:!0,value:void 0}),Object.defineProperty(this,Z,{writable:!0,value:void 0}),(0,i.Z)(this,m)[m]=null,(0,i.Z)(this,Z)[Z]=1,this.constructor.fetchGendresMovie()}return(0,u.Z)(e,[{key:"fetchTrendDayMovies",value:function(){var t=(0,r.Z)(v().mark((function t(){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().get("/trending/movie/day",{params:{api_key:g,language:"en",page:(0,i.Z)(this,Z)[Z]}});case 2:return n=t.sent,t.abrupt("return",y(n.data,e.genres));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchMovieByID",value:function(){var e=(0,r.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/movie/".concat(t),{params:{api_key:g,language:"en"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMovieQuery",value:function(){var t=(0,r.Z)(v().mark((function t(){var n;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l().get("/search/movie/",{params:{api_key:g,language:"en",query:(0,i.Z)(this,m)[m],page:(0,i.Z)(this,Z)[Z]}});case 2:return n=t.sent,t.abrupt("return",y(n.data,e.genres));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"fetchMovieByCredit",value:function(){var e=(0,r.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/movie/".concat(t,"/credit"),{params:{api_key:g,language:"en"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMovieByReviews",value:function(){var e=(0,r.Z)(v().mark((function e(t){var n;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/movie/".concat(t,"/reviews"),{params:{api_key:g,language:"en"}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",get:function(){return(0,i.Z)(this,m)[m]},set:function(e){(0,i.Z)(this,m)[m]=e,(0,i.Z)(this,Z)[Z]=1}},{key:"nextPage",value:function(){(0,i.Z)(this,Z)[Z]+=1}},{key:"previousPage",value:function(){(0,i.Z)(this,Z)[Z]-1&&((0,i.Z)(this,Z)[Z]-=1)}},{key:"currentpage",get:function(){return(0,i.Z)(this,Z)[Z]},set:function(e){(0,i.Z)(this,Z)[Z]=e}},{key:"genres",get:function(){return e.genres},set:function(e){}}],[{key:"fetchGendresMovie",value:function(){var e=(0,r.Z)(v().mark((function e(){var t;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l().get("/genre/movie/list",{params:{api_key:g}});case 2:t=e.sent,this.genres=t.data.genres;case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();k.genres=null,t.Z=k},8267:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(885),a=n(184),u=function(e){var t=e.value,n=e.onChange;return(0,a.jsx)("div",{children:(0,a.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})})},i=n(8334),s=n(2791),c=n(1087),o=n(7689),f=function(){var e,t=(0,o.TH)(),n=(0,s.useState)([]),f=(0,r.Z)(n,2),p=f[0],v=f[1],h=(0,c.lr)(),l=(0,r.Z)(h,2),d=l[0],g=l[1],y=null!==(e=d.get("filter"))&&void 0!==e?e:"";(0,s.useEffect)((function(){i.Z.fetchMovieQuery().then(v)}),[]);var m=(0,s.useMemo)((function(){return p.filter((function(e){return e.name.toLowerCase().includes(y.toLowerCase())}))}),[p,y]);return(0,a.jsxs)("main",{children:[(0,a.jsx)(u,{value:y,onChange:function(e){g(""!==e?{filter:e}:{})}}),p.length>0&&(0,a.jsx)("ul",{children:m.map((function(e){return(0,a.jsx)("li",{children:(0,a.jsx)(c.rU,{to:"".concat(e.id),state:{from:t},children:e.name})},e.id)}))})]})}}}]);
//# sourceMappingURL=267.3b779c38.chunk.js.map